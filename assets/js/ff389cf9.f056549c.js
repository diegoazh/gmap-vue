"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[853],{6249:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>l,metadata:()=>t,toc:()=>r});const t=JSON.parse('{"id":"vue-3-version/guide/install-function","title":"The install function","description":"The install function get the options passed to the plugin and process it to initialize the plugin.","source":"@site/docs/vue-3-version/guide/install-function.md","sourceDirName":"vue-3-version/guide","slug":"/vue-3-version/guide/install-function","permalink":"/gmap-vue/docs/vue-3-version/guide/install-function","draft":false,"unlisted":false,"editUrl":"https://github.com/diegoazh/gmap-vue/docs/vue-3-version/guide/install-function.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"install-function","sidebar_position":2,"sidebar_label":"Install function"},"sidebar":"vue3Version","previous":{"title":"Introduction","permalink":"/gmap-vue/docs/vue-3-version/guide/"},"next":{"title":"Global properties","permalink":"/gmap-vue/docs/vue-3-version/guide/global-properties"}}');var i=o(6070),s=o(7252);const l={id:"install-function",sidebar_position:2,sidebar_label:"Install function"},a="The install function",c={},r=[];function p(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"the-install-function",children:"The install function"})}),"\n",(0,i.jsx)(e.p,{children:"The install function get the options passed to the plugin and process it to initialize the plugin."}),"\n",(0,i.jsxs)(e.p,{children:["The install function loads the Google Maps API using a promise. This promise is returned by the ",(0,i.jsx)(e.code,{children:"googleMapsApiPromiseLazy"})," function. This function is saved in a global property inside the ",(0,i.jsx)(e.code,{children:"app"})," called ",(0,i.jsx)(e.code,{children:"$gmapApiPromiseLazy"})," and you can use it to access it in the options API."]}),"\n",(0,i.jsxs)(e.p,{children:["The install function also saved the options passed to the plugin in a global property of the app called ",(0,i.jsx)(e.code,{children:"$gmapOptions"})," that you can use to access the plugin options in the Vue options API. The install function also use ",(0,i.jsx)(e.code,{children:"provide"})," with a key called ",(0,i.jsx)(e.code,{children:"$gmapOptions"})," to provide it to all child components in the application."]}),"\n",(0,i.jsxs)(e.p,{children:["These two options also have its own composables functions that you can use to get their respective values using the Vue composition API. For more details go to the ",(0,i.jsx)(e.a,{href:"/docs/vue-3-version/guide/global-properties",children:"next section"}),"."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="plugin main.ts" showLineNumbers',children:"// ...\napp.config.globalProperties.$gmapApiPromiseLazy = googleMapsApiPromiseLazy;\napp.config.globalProperties.$gmapOptions = finalOptions;\napp.provide($gmapOptions, finalOptions);\n// ...\n"})}),"\n",(0,i.jsx)(e.p,{children:"Finally, by default the install function initialize and install all components in the plugin."}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",metastring:'title="plugin main.ts" showLineNumbers',children:"// ...\napp\n  .component(\n    'GmvMap',\n    defineAsyncComponent(() => import('./components/map-layer.vue'))\n  )\n  .component(\n    'GmvMarker',\n    defineAsyncComponent(() => import('./components/marker-icon.vue'))\n  )\n  .component(\n    'GmvInfoWindow',\n    defineAsyncComponent(() => import('./components/info-window.vue'))\n  )\n  .component(\n    'GmvKmlLayer',\n    defineAsyncComponent(() => import('./components/kml-layer.vue'))\n  )\n  .component(\n    'GmvAutocomplete',\n    defineAsyncComponent(() => import('./components/autocomplete-input.vue'))\n  )\n  .component(\n    'GmvStreetViewPanorama',\n    defineAsyncComponent(() => import('./components/street-view-panorama.vue'))\n  )\n  .component(\n    'GmvHeatmapLayer',\n    defineAsyncComponent(() => import('./components/heatmap-layer.vue'))\n  )\n  .component(\n    'GmvCircle',\n    defineAsyncComponent(() => import('./components/circle-shape.vue'))\n  )\n  .component(\n    'GmvPolygon',\n    defineAsyncComponent(() => import('./components/polygon-shape.vue'))\n  )\n  .component(\n    'GmvPolyline',\n    defineAsyncComponent(() => import('./components/polyline-shape.vue'))\n  )\n  .component(\n    'GmvRectangle',\n    defineAsyncComponent(() => import('./components/rectangle-shape.vue'))\n  )\n  .component(\n    'GmvDrawingManager',\n    defineAsyncComponent(() => import('./components/drawing-manager.vue'))\n  )\n  .component(\n    'GmvCluster',\n    defineAsyncComponent(() => import('./components/cluster-icon.vue'))\n  );\n\n// ...\n"})}),"\n",(0,i.jsx)(e.admonition,{type:"note",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["As you can see above all components are ",(0,i.jsx)(e.strong,{children:"lazy loaded"})]}),"\n",(0,i.jsxs)(e.li,{children:["Now the ",(0,i.jsx)(e.strong,{children:(0,i.jsx)(e.code,{children:"GmvCluster"})})," component is ",(0,i.jsx)(e.strong,{children:"registered by default"}),", remember to install the ",(0,i.jsx)(e.code,{children:'"@googlemaps/markerclusterer": "^2.5.3"'})," package"]}),"\n"]})}),"\n",(0,i.jsx)(e.admonition,{type:"info",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Check the install function API ",(0,i.jsx)(e.a,{href:"/docs/vue-3-version/api/gmap-vue-plugin",children:"here"})]}),"\n",(0,i.jsxs)(e.li,{children:["Check the resize bus API ",(0,i.jsx)(e.a,{href:"/wip",children:"here"})]}),"\n"]})})]})}function d(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(p,{...n})}):p(n)}},7252:(n,e,o)=>{o.d(e,{R:()=>l,x:()=>a});var t=o(758);const i={},s=t.createContext(i);function l(n){const e=t.useContext(s);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);