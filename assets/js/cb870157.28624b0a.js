"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[18],{7338:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"vue-3-version/api/components/map","title":"Map","description":"- Reference","source":"@site/docs/vue-3-version/api/components/map.md","sourceDirName":"vue-3-version/api/components","slug":"/vue-3-version/api/components/map","permalink":"/gmap-vue/docs/vue-3-version/api/components/map","draft":false,"unlisted":false,"editUrl":"https://github.com/diegoazh/gmap-vue/docs/vue-3-version/api/components/map.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"map","sidebar_position":2,"sidebar_label":"Map"},"sidebar":"vue3Version","previous":{"title":"Autocomplete","permalink":"/gmap-vue/docs/vue-3-version/api/components/autocomplete"},"next":{"title":"Types definitions","permalink":"/gmap-vue/docs/vue-3-version/api/types"}}');var t=s(6070),i=s(7252);const r={id:"map",sidebar_position:2,sidebar_label:"Map"},a="Map",l={},c=[{value:"Props",id:"props",level:2},{value:"Methods",id:"methods",level:2},{value:"Exposed const",id:"exposed-const",level:2},{value:"Events",id:"events",level:2},{value:"Slots",id:"slots",level:2},{value:"Provide/Inject",id:"provideinject",level:2},{value:"Ref",id:"ref",level:2},{value:"Source code",id:"source-code",level:2}];function d(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"map",children:"Map"})}),"\n",(0,t.jsx)(n.admonition,{title:"Official sources",type:"info",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/map#Map",children:"Reference"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/overview#google.maps.Map",children:"Guide"})}),"\n"]})}),"\n",(0,t.jsx)(n.p,{children:"This component is a wrapper of the Google Map class."}),"\n",(0,t.jsxs)(n.admonition,{title:"From the authors",type:"note",children:[(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["The JavaScript class that represents a map is the Map class. Objects of this class define a single map on a page. (You may create more than one instance of this class \u2014 each object will define a separate map on the page.) We create a new instance of this class using the JavaScript new operator. When you create a new map instance, you specify a ",(0,t.jsx)(n.code,{children:"<div>"})," HTML element in the page as a container for the map. HTML nodes are children of the JavaScript document object, and we obtain a reference to this element via the document.getElementById() method. This code defines a variable (named map) and assigns that variable to a new Map object. The function Map() is known as a constructor and its definition is shown below: ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/overview#google.maps.Map",children:"reference"}),"\n:::"]}),"\n"]}),(0,t.jsx)(n.h2,{id:"props",children:"Props"}),(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.em,{children:"highlighted"})," lines are the official props, we strongly recommend to read the ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions",children:(0,t.jsx)(n.strong,{children:"official documentation"})}),"."]}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Here we only describe the custom props added by this plugin"})})]})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:'title="Map Layer props interface" showLineNumbers {41-75}',children:'/**\n * MapOptions interface\n *\n * MapOptions object used to define the properties that can be set on a Map.\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions\n *\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.backgroundColor\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.center\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.clickableIcons\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.controlSize\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.disableDefaultUI\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.disableDoubleClickZoom\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.draggableCursor\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.draggingCursor\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.fullscreenControl\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.fullscreenControlOptions\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.gestureHandling\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.heading\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.isFractionalZoomEnabled\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.keyboardShortcuts\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.mapTypeControl\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.mapTypeControlOptions\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.mapTypeId\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.maxZoom\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.minZoom\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.noClear\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.restriction\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.rotateControl\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.rotateControlOptions\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.scaleControl\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.scaleControlOptions\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.streetView\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.streetViewControl\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.styles\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.tilt\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.zoom\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.zoomControl\n * @see https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions.zoomControlOptions\n */\nexport interface IMapLayerVueComponentProps {\n  backgroundColor?: string;\n  center: google.maps.LatLng | google.maps.LatLngLiteral;\n  clickableIcons?: boolean;\n  controlSize?: number;\n  disableDefaultUI?: boolean;\n  disableDoubleClickZoom?: boolean;\n  draggableCursor?: string;\n  draggingCursor?: string;\n  fullscreenControl?: boolean;\n  fullscreenControlOptions?: google.maps.FullscreenControlOptions;\n  gestureHandling?: "cooperative" | "greedy" | "none" | "auto";\n  heading?: number;\n  isFractionalZoomEnabled?: boolean;\n  keyboardShortcuts?: boolean;\n  mapId?: string;\n  mapTypeControl?: boolean;\n  mapTypeControlOptions?: google.maps.MapTypeControlOptions;\n  mapTypeId?: google.maps.MapTypeId;\n  maxZoom?: number;\n  minZoom?: number;\n  noClear?: boolean;\n  restriction?: google.maps.MapRestriction;\n  rotateControl?: boolean;\n  rotateControlOptions?: google.maps.RotateControlOptions;\n  scaleControl?: boolean;\n  scaleControlOptions?: google.maps.ScaleControlOptions;\n  scrollwheel?: boolean;\n  streetView?: google.maps.StreetViewPanorama;\n  streetViewControl?: boolean;\n  streetViewControlOptions?: google.maps.StreetViewControlOptions;\n  styles?: google.maps.MapTypeStyle[];\n  tilt?: number;\n  zoom?: number;\n  zoomControl?: boolean;\n  zoomControlOptions?: google.maps.ZoomControlOptions;\n  mapKey?: string;\n  resizeBus?: Emitter<Record<EventType, unknown>>;\n  options?: { [key: string]: any };\n}\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"mapKey"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"type"}),": ",(0,t.jsx)(n.code,{children:"string"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": A unique key to identify different instances of the ",(0,t.jsx)(n.code,{children:"GmvMap"})," component. This always be prefixed with ",(0,t.jsx)(n.code,{children:"__gmc__"})," as a recycle key to save the Google Map class instance into the global ",(0,t.jsx)(n.code,{children:"window"})," object. For example if you set this prop with ",(0,t.jsx)(n.code,{children:"'MyMap'"})," this results on ",(0,t.jsx)(n.code,{children:"'__gmc__MyMap'"})," for the recycle key, that is returned by the exposed ",(0,t.jsx)(n.code,{children:"getRecycleKey"})," method. and you should use this key to get the correct map promise using the ",(0,t.jsx)(n.code,{children:"useMapPromise('MyMap')"})," composable. ",(0,t.jsxs)(n.strong,{children:["This is the old ",(0,t.jsx)(n.code,{children:"recycle"})," prop from ",(0,t.jsx)(n.code,{children:"v2.0.1"})," and below"]}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsxs)(n.p,{children:["For legacy compatibility we decide to maintain the old way to set the map key, eg: ",(0,t.jsx)(n.code,{children:"options: { recycle: 'myMapKey' }"})," but, ",(0,t.jsxs)(n.strong,{children:["we strongly recommend to use the new ",(0,t.jsx)(n.code,{children:"mapKey"})," prop"]})," because the old way should be removed in the next major release."]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"resizeBus"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"type"}),": ",(0,t.jsx)(n.code,{children:"Emitter<Record<EventType, unknown>>;"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This is the resize bus, the default value is the ",(0,t.jsx)(n.code,{children:"default resize bus"})," is an ",(0,t.jsx)(n.code,{children:"emit"})," object. ",(0,t.jsx)(n.code,{children:"EventType"})," is typed as ",(0,t.jsx)(n.code,{children:"string | symbol"})," and the event is ",(0,t.jsx)(n.code,{children:"unknown"})," because we can not know which events will you fire."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"options"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"type"}),": ",(0,t.jsx)(n.code,{children:"Record<string, unknown>"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": We use this prop as a fallback option. If the official API changes and add new props to the class you can use the options prop to use and populate these new props until we update our API to use it explicitly."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"We only document the exposed methods of the component"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"panBy"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"return type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"params"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"x: number"}),": Number of pixels to move the map in the x direction."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"y: number"}),": Number of pixels to move the map in the y direction."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": Changes the center of the map by the given distance in pixels. If the distance is less than both the width and height of the map, the transition will be smoothly animated. Note that the map coordinate system increases from west to east (for x values) and north to south (for y values)."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:"showLineNumbers",children:"//...\nfunction panBy(x: number, y: number): void {\n  if (mapInstance) {\n    mapInstance.panBy(x, y);\n  }\n}\n//...\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"panTo"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"return type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"params"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"latLng"}),": ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/coordinates#LatLng",children:(0,t.jsx)(n.code,{children:"google.maps.LatLng"})})," | ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/coordinates#LatLngLiteral",children:(0,t.jsx)(n.code,{children:"google.maps.LatLngLiteral"})}),": Number of pixels to move the map in the x direction."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": Changes the center of the map to the given LatLng. If the change is less than both the width and height of the map, the transition will be smoothly animated."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:"showLineNumbers",children:"//...\nfunction panTo(latLng: google.maps.LatLng | google.maps.LatLngLiteral): void {\n  if (mapInstance) {\n    mapInstance.panTo(latLng);\n  }\n}\n//...\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"panToBounds"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"return type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"params"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"latLngBounds"}),": ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/coordinates#LatLngBounds",children:(0,t.jsx)(n.code,{children:"google.maps.LatLngBounds"})})," | ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/coordinates#LatLngBoundsLiteral",children:(0,t.jsx)(n.code,{children:"google.maps.LatLngBoundsLiteral"})}),": The bounds to pan the map to."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"padding"}),": ",(0,t.jsx)(n.code,{children:"number"})," | ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/coordinates#Padding",children:(0,t.jsx)(n.code,{children:"google.maps.Padding"})}),": optional Padding in pixels. A number value will yield the same padding on all 4 sides. The default value is 0."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": Pans the map by the minimum amount necessary to contain the given LatLngBounds. It makes no guarantee where on the map the bounds will be, except that the map will be panned to show as much of the bounds as possible inside {currentMapSizeInPx} - {padding}. For both raster and vector maps, the map's zoom, tilt, and heading will not be changed."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:"showLineNumbers",children:"//...\nfunction panToBounds(\n  latLngBounds: google.maps.LatLngBounds | google.maps.LatLngBoundsLiteral,\n  padding: number | google.maps.Padding,\n): void {\n  if (mapInstance) {\n    mapInstance.panToBounds(latLngBounds, padding);\n  }\n}\n//...\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"fitBounds"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"return type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"params"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"bounds"}),": ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/coordinates#LatLngBounds",children:(0,t.jsx)(n.code,{children:"google.maps.LatLngBounds"})})," | ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/coordinates#LatLngBoundsLiteral",children:(0,t.jsx)(n.code,{children:"google.maps.LatLngBoundsLiteral"})}),": Bounds to show."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"padding"}),": ",(0,t.jsx)(n.code,{children:"number"})," | ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/coordinates#Padding",children:(0,t.jsx)(n.code,{children:"google.maps.Padding"})}),": optional Padding in pixels. The bounds will be fit in the part of the map that remains after padding is removed. A number value will yield the same padding on all 4 sides. Supply 0 here to make a fitBounds idempotent on the result of getBounds."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": Sets the viewport to contain the given bounds.\nNote: When the map is set to display: none, the fitBounds function reads the map's size as 0x0, and therefore does not do anything. To change the viewport while the map is hidden, set the map to visibility: hidden, thereby ensuring the map div has an actual size. For vector maps, this method sets the map's tilt and heading to their default zero values."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:"showLineNumbers",children:"//...\nfunction fitBounds(\n  bounds: google.maps.LatLngBounds | google.maps.LatLngBoundsLiteral,\n  padding: number | google.maps.Padding,\n): void {\n  if (mapInstance) {\n    mapInstance.fitBounds(bounds, padding);\n  }\n}\n//...\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"_resizeCallback"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"return type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": It executes the resize function passed to the component through the ",(0,t.jsx)(n.code,{children:"resizeBus"})," prop."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:"showLineNumbers",children:"//...\n_resizeCallback = (): void => {\nresizeFn();\n//...\n};\n\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"_delayedResizeCallback"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"return type"}),": ",(0,t.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": It use the ",(0,t.jsx)(n.code,{children:"nextTick"})," function to execute the ",(0,t.jsx)(n.code,{children:"_resizeCallback"})," function."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:"showLineNumbers",children:"//...\n_delayedResizeCallback = (): Promise<void> => {\n  return nextTick(() => _resizeCallback());\n};\n//...\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"resize"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"return type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This method trigger the resize event of Google Maps."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:"showLineNumbers",children:"//...\nfunction resize(): void {\n  if (mapInstance) {\n    google.maps.event.trigger(mapInstance, 'resize');\n  }\n}\n//...\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"resizePreserveCenter"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"return type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": Preserve the previous center when resize the map."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:"showLineNumbers",children:"//...\nfunction resizePreserveCenter(): void {\n  if (!mapInstance) {\n    return;\n  }\n\n  const oldCenter = mapInstance.getCenter();\n  google.maps.event.trigger(mapInstance, 'resize');\n\n  if (oldCenter) {\n    mapInstance.setCenter(oldCenter);\n  }\n}\n//...\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"getRecycleKey"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"return type"}),": ",(0,t.jsx)(n.code,{children:"string"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": Get the recycle key of the map. The default recycle key is ",(0,t.jsx)(n.code,{children:"__gmc__"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:"showLineNumbers",children:"//...\nfunction getRecycleKey(): string {\n  return props?.recycle ? `${recyclePrefix}${props.recycle}` : recyclePrefix;\n}\n//...\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"exposed-const",children:"Exposed const"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"mapPromise"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"type"}),": ",(0,t.jsx)(n.code,{children:"Promise<InstanceType<google.maps.Map> | undefined>"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This promise returns the Map class constructor when the Google Maps API is ready and successfully loaded."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"events",children:"Events"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"bounds_changed"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/coordinates#LatLngBounds",children:(0,t.jsx)(n.code,{children:"google.maps.LatLngBounds | undefined"})})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the viewport bounds have changed."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"center_changed"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/coordinates#LatLng",children:(0,t.jsx)(n.code,{children:"google.maps.LatLng | undefined"})})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the map center property changes."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"click"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/map#MapMouseEvent",children:(0,t.jsx)(n.code,{children:"google.maps.MapMouseEvent"})})," | ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/map#IconMouseEvent",children:(0,t.jsx)(n.code,{children:"google.maps.IconMouseEvent"})})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the user clicks on the map. A MapMouseEvent with properties for the clicked location is returned unless a place icon was clicked, in which case an IconMouseEvent with a place ID is returned. IconMouseEvent and MapMouseEvent are identical, except that IconMouseEvent has the place ID field. The event can always be treated as an MapMouseEvent when the place ID is not important. The click event is not fired if a marker or info window was clicked."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"contextmenu"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/map#MapMouseEvent",children:(0,t.jsx)(n.code,{children:"google.maps.MapMouseEvent"})})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the DOM contextmenu event is fired on the map container."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"dblclick"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/map#MapMouseEvent",children:(0,t.jsx)(n.code,{children:"google.maps.MapMouseEvent"})})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the user double-clicks on the map. Note that the click event will sometimes fire once and sometimes twice, right before this one."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"drag"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is repeatedly fired while the user drags the map."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"drag"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is repeatedly fired while the user drags the map."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"dragend"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the user stops dragging the map."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"dragstart"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the user starts dragging the map."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"heading_changed"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the map heading property changes."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"idle"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the map becomes idle after panning or zooming."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"isfractionalzoomenabled_changed"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the isFractionalZoomEnabled property has changed."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"mapcapabilities_changed"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the map capabilities change."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"maptypeid_changed"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the mapTypeId property changes."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"mousemove"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/map#MapMouseEvent",children:(0,t.jsx)(n.code,{children:"google.maps.MapMouseEvent"})})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired whenever the user's mouse moves over the map container."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"mouseout"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/map#MapMouseEvent",children:(0,t.jsx)(n.code,{children:"google.maps.MapMouseEvent"})})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the user's mouse exits the map container."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"mouseover"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/reference/map#MapMouseEvent",children:(0,t.jsx)(n.code,{children:"google.maps.MapMouseEvent"})})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the user's mouse enters the map container."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"projection_changed"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the projection has changed."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"renderingtype_changed"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the renderingType has changed."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"tilesloaded"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the visible tiles have finished loading."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"tilt_changed"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the map tilt property changes."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"zoom_changed"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the map zoom property changes."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"resize"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"Event type"}),": ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.em,{children:"description"}),": This event is fired when the map is resized."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"slots",children:"Slots"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"default"}),": The default slot is wrapped in a class that sets display: none; so by default any component you add to your map will be invisible. This is ok for most of the supplied components that interact directly with the Google map object, but it's not good if you want to bring up things like toolboxes, etc."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"visible"}),": This slot must be used if you want to display content within the responsive wrapper for the map."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",metastring:"showLineNumbers {5,7}",children:'<template>\n  <div class="gmv-map-container">\n    <div ref="gmvMap" class="gmv-map"></div>\n    <div class="gmv-map-hidden">\n      <slot></slot>\n    </div>\n    <slot name="visible"></slot>\n  </div>\n</template>\n'})}),"\n",(0,t.jsx)(n.h2,{id:"provideinject",children:"Provide/Inject"}),"\n",(0,t.jsxs)(n.p,{children:["This component provides to its descendants a ",(0,t.jsx)(n.code,{children:"mapPromise"})," to know when the map instance is ready to use."]}),"\n",(0,t.jsxs)(n.p,{children:["From versions ",(0,t.jsxs)(n.strong,{children:["above ",(0,t.jsx)(n.code,{children:"v2.0.1"})]})," every map promise si provided using the ",(0,t.jsx)(n.code,{children:"mapKey"})," prop or using the ",(0,t.jsx)(n.code,{children:"$mapPromise"})," key as the default value. If you have only one instance of the map you can avoid to set this prop but, ",(0,t.jsxs)(n.strong,{children:["take care because if you have more than one map and forget to set the ",(0,t.jsx)(n.code,{children:"mapKey"}),", the second instance of the map will override the promise of the first map and you will be using the same instance in both places"]})," causing the issues described in the following ",(0,t.jsx)(n.a,{href:"https://github.com/diegoazh/gmap-vue/issues/309",children:"report"}),"."]}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsxs)(n.p,{children:[(0,t.jsxs)(n.strong,{children:["From ",(0,t.jsx)(n.code,{children:"v2.0.1"})," and below it only provides one promise with the default key ",(0,t.jsx)(n.code,{children:"$mapPromise"})]}),"."]})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:"showLineNumbers",children:"import { $mapPromise } from '@/keys';\n\n//...\nconst { promiseDeferred: mapPromiseDeferred, promise } =\n  useComponentPromiseFactory(defineMapKey() || $mapPromise);\nprovide(defineMapKey() || $mapPromise, promise);\n//...\n"})}),"\n",(0,t.jsxs)(n.p,{children:["You can get the promise using ",(0,t.jsx)(n.code,{children:"inject"})," like de following example but, only on the descendants of the ",(0,t.jsx)(n.code,{children:"GmvMap"})," component, that mean only on components placed between the ",(0,t.jsx)(n.code,{children:"GmvMap"})," tags."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:"showLineNumbers",children:"import { $mapPromise } from '@/keys';\n\n//...\nconst mapPromise = inject($mapPromise); // if you are using only one map\nconst mapPromise = inject('mapKey'); // two or more instances needs to use the `mapKey` prop\n//...\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:"<GmvMap>\n  <YourComponentHere /> \x3c!-- \ud83d\udc48\ud83c\udffc Your component here can use inject to get the promise. --\x3e\n</GmvMap>\n"})}),"\n",(0,t.jsxs)(n.p,{children:["For other cases you can use the ",(0,t.jsx)(n.code,{children:"useMapPromise"})," composable. Read more about it ",(0,t.jsx)(n.a,{href:"/docs/vue-3-version/api/composables#usemappromise",children:(0,t.jsx)(n.code,{children:"here"})}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { useMapPromise } from \"@gmap-vue/v3/composables\";\n\nconst mapPromise = useMapPromise('mapKey');\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["This ",(0,t.jsx)(n.code,{children:"mapPromise"})," is exposed and you can access it from the component reference using ",(0,t.jsx)(n.code,{children:"ref"}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"ref",children:"Ref"}),"\n",(0,t.jsxs)(n.p,{children:["To get a component reference for the ",(0,t.jsx)(n.code,{children:"GmvMap"}),", please follow this ",(0,t.jsx)(n.a,{href:"/docs/vue-3-version/guide/basic-usage/map-reference",children:"guide"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"source-code",children:"Source code"}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsxs)("summary",{children:[(0,t.jsx)(n.code,{children:"map-layer.vue"})," source code"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",metastring:"showLineNumbers",children:"<template>\n  <div class=\"gmv-map-container\">\n    <div ref=\"gmvMap\" class=\"gmv-map\"></div>\n    <div class=\"gmv-map-hidden\">\n      \x3c!-- @slot The default slot is wrapped in a class that sets display: none; so by default any component you add to your map will be invisible. This is ok for most of the supplied components that interact directly with the Google map object, but it's not good if you want to bring up things like toolboxes, etc. --\x3e\n      <slot></slot>\n    </div>\n    \x3c!-- @slot This slot must be used if you want to display content within the responsive wrapper for the map.  --\x3e\n    <slot name=\"visible\"></slot>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n  bindGoogleMapsEventsToVueEventsOnSetup,\n  bindPropsWithGoogleMapsSettersAndGettersOnSetup,\n  getComponentEventsConfig,\n  getComponentPropsConfig,\n  getPropsValuesWithoutOptionsProp,\n  onMountedResizeBusHook,\n  onUnmountedResizeBusHook,\n  twoWayBindingWrapper,\n  useComponentPromiseFactory,\n  useDestroyPromisesOnUnmounted,\n  useGoogleMapsApiPromiseLazy,\n  usePluginOptions,\n  useResizeBus,\n  watchPrimitivePropertiesOnSetup,\n} from '@/composables';\nimport type { IMapLayerVueComponentProps } from '@/interfaces';\nimport { $mapPromise, $recyclePrefix } from '@/keys';\nimport type { Emitter, EventType } from 'mitt';\nimport {\n  computed,\n  onBeforeUnmount,\n  onMounted,\n  onUnmounted,\n  provide,\n  ref,\n  watch,\n} from 'vue';\n\n/**\n * Map component\n * @displayName GmvMap\n * @see [source code](/guide/map.html#source-code)\n * @see [Official documentation](https://developers.google.com/maps/documentation/javascript/basics)\n * @see [Official reference](https://developers.google.com/maps/documentation/javascript/reference/map)\n */\n\n/*******************************************************************************\n * DEFINE COMPONENT PROPS\n ******************************************************************************/\nconst props = withDefaults(\n  defineProps<{\n    backgroundColor?: string;\n    center: google.maps.LatLng | google.maps.LatLngLiteral;\n    clickableIcons?: boolean;\n    controlSize?: number;\n    disableDefaultUI?: boolean;\n    disableDoubleClickZoom?: boolean;\n    draggableCursor?: string;\n    draggingCursor?: string;\n    fullscreenControl?: boolean;\n    fullscreenControlOptions?: google.maps.FullscreenControlOptions;\n    gestureHandling?: 'cooperative' | 'greedy' | 'none' | 'auto';\n    heading?: number;\n    isFractionalZoomEnabled?: boolean;\n    keyboardShortcuts?: boolean;\n    mapId?: string;\n    mapTypeControl?: boolean;\n    mapTypeControlOptions?: google.maps.MapTypeControlOptions;\n    mapTypeId?: google.maps.MapTypeId;\n    maxZoom?: number;\n    minZoom?: number;\n    noClear?: boolean;\n    restriction?: google.maps.MapRestriction;\n    rotateControl?: boolean;\n    rotateControlOptions?: google.maps.RotateControlOptions;\n    scaleControl?: boolean;\n    scaleControlOptions?: google.maps.ScaleControlOptions;\n    scrollwheel?: boolean;\n    streetView?: google.maps.StreetViewPanorama;\n    streetViewControl?: boolean;\n    streetViewControlOptions?: google.maps.StreetViewControlOptions;\n    styles?: google.maps.MapTypeStyle[];\n    tilt?: number;\n    zoom?: number;\n    zoomControl?: boolean;\n    zoomControlOptions?: google.maps.ZoomControlOptions;\n    mapKey?: string;\n    resizeBus?: Emitter<Record<EventType, unknown>>;\n    options?: { [key: string]: any };\n  }>(),\n  {\n    mapTypeId: globalThis?.google?.maps?.MapTypeId?.ROADMAP || 'roadmap',\n    clickableIcons: true,\n    disableDefaultUI: false,\n    fullscreenControl: true,\n    gestureHandling: 'auto',\n    keyboardShortcuts: true,\n    mapTypeControl: true,\n    panControl: true,\n    rotateControl: true,\n    scaleControl: true,\n    streetViewControl: true,\n    zoomControl: true,\n  },\n);\n\n/*******************************************************************************\n * TEMPLATE REF, ATTRIBUTES AND EMITTERS\n ******************************************************************************/\nconst gmvMap = ref<HTMLElement | null>(null);\nconst emits = defineEmits<{\n  bounds_changed: [value: google.maps.LatLngBounds | undefined];\n  center_changed: [value: google.maps.LatLng | undefined];\n  click: [value: google.maps.MapMouseEvent | google.maps.IconMouseEvent];\n  contextmenu: [value: google.maps.MapMouseEvent];\n  dblclick: [value: google.maps.MapMouseEvent];\n  drag: [];\n  dragend: [];\n  dragstart: [];\n  heading_changed: [];\n  idle: [];\n  isfractionalzoomenabled_changed: [];\n  mapcapabilities_changed: [];\n  maptypeid_changed: [];\n  mousemove: [value: google.maps.MapMouseEvent];\n  mouseout: [value: google.maps.MapMouseEvent];\n  mouseover: [value: google.maps.MapMouseEvent];\n  projection_changed: [];\n  renderingtype_changed: [];\n  tilesloaded: [];\n  tilt_changed: [];\n  zoom_changed: [value: number | undefined];\n  resize: [];\n}>();\n\n/*******************************************************************************\n * RECYCLE KEY\n ******************************************************************************/\n/**\n * Define de final mapKey.\n * This method is a legacy method to maintain compatibility with the old recycle key and should be removed in the next major release.\n *\n * @method defineMapKey\n * @returns {string}\n * @internal\n */\nfunction defineMapKey(): string {\n  return props?.mapKey\n    ? props.mapKey\n    : props?.options && props.options?.recycle\n      ? props.options.recycle\n      : '';\n}\n\n/**\n * Get the recycle key of the map\n * @method getRecycleKey\n * @returns {void}\n * @public\n */\nfunction getRecycleKey(): string {\n  return `${$recyclePrefix}${defineMapKey()}`;\n}\n\n/*******************************************************************************\n * MAP\n ******************************************************************************/\ndefineOptions({ name: 'map-layer' });\nconst excludedEvents = usePluginOptions()?.excludeEventsOnAllComponents?.();\n\n/*******************************************************************************\n * PROVIDE\n ******************************************************************************/\nconst { promiseDeferred: mapPromiseDeferred, promise } =\n  useComponentPromiseFactory(defineMapKey() || $mapPromise);\nprovide(defineMapKey() || $mapPromise, promise);\n\n/*******************************************************************************\n * RESIZE BUS\n ******************************************************************************/\nconst { currentResizeBus, _delayedResizeCallback } = useResizeBus();\nlet { _resizeCallback } = useResizeBus();\n\n/**\n * This method trigger the resize event of Google Maps\n * @method resize\n * @returns {void}\n * @public\n */\nasync function resize(): Promise<void> {\n  const mapInstance = await promise;\n\n  if (mapInstance) {\n    google.maps.event.trigger(mapInstance, 'resize');\n  }\n}\n\n/**\n * Preserve the previous center when resize the map\n * @method resizePreserveCenter\n * @returns {void}\n * @public\n */\nasync function resizePreserveCenter(): Promise<void> {\n  const mapInstance = await promise;\n\n  if (!mapInstance) {\n    return;\n  }\n\n  const oldCenter = mapInstance.getCenter();\n  google.maps.event.trigger(mapInstance, 'resize');\n\n  if (oldCenter) {\n    mapInstance.setCenter(oldCenter);\n  }\n}\n\n/*******************************************************************************\n * COMPUTED\n ******************************************************************************/\nconst finalLat = computed(() => {\n  if (!props.center) {\n    return console.warn('center is not defined');\n  }\n\n  return typeof props.center.lat === 'function'\n    ? props.center.lat()\n    : props.center.lat;\n});\nconst finalLng = computed(() => {\n  if (!props.center) {\n    return console.warn('center is not defined');\n  }\n\n  return typeof props.center.lng === 'function'\n    ? props.center.lng()\n    : props.center.lng;\n});\nconst finalLatLng = computed(\n  () =>\n    ({ lat: finalLat.value, lng: finalLng.value }) as google.maps.LatLngLiteral,\n);\n\n/*******************************************************************************\n * METHODS\n ******************************************************************************/\n/**\n * Changes the center of the map by the given distance in pixels. If the distance is less than both the width and height of the map, the transition will be smoothly animated. Note that the map coordinate system increases from west to east (for x values) and north to south (for y values).\n * @method panBy\n * @param {number} x - Number of pixels to move the map in the x direction.\n * @param {number} y - Number of pixels to move the map in the y direction.\n * @returns {void}\n * @public\n */\nasync function panBy(x: number, y: number): Promise<void> {\n  const mapInstance = await promise;\n\n  if (mapInstance) {\n    mapInstance.panBy(x, y);\n  }\n}\n\n/**\n * Changes the center of the map to the given LatLng. If the change is less than both the width and height of the map, the transition will be smoothly animated.\n * @method panTo\n * @param {(LatLng|LatLngLiteral)} latLng - The new center latitude/longitude of the map. (types `LatLng|LatLngLiteral`)\n * @returns {void}\n * @public\n */\nasync function panTo(\n  latLng: google.maps.LatLng | google.maps.LatLngLiteral,\n): Promise<void> {\n  const mapInstance = await promise;\n\n  if (mapInstance) {\n    mapInstance.panTo(latLng);\n  }\n}\n\n/**\n * Pans the map by the minimum amount necessary to contain the given LatLngBounds. It makes no guarantee where on the map the bounds will be, except that the map will be panned to show as much of the bounds as possible inside {currentMapSizeInPx} - {padding}. For both raster and vector maps, the map's zoom, tilt, and heading will not be changed.\n * @method panToBounds\n * @param {(LatLngBounds|LatLngBoundsLiteral)} latLngBounds - The bounds to pan the map to. (types: `LatLngBounds|LatLngBoundsLiteral`)\n * @param {(number|Padding)} [padding] - optional Padding in pixels. A number value will yield the same padding on all 4 sides. The default value is 0. (types: `number|Padding`)\n * @returns {void}\n * @public\n */\nasync function panToBounds(\n  latLngBounds: google.maps.LatLngBounds | google.maps.LatLngBoundsLiteral,\n  padding: number | google.maps.Padding,\n): Promise<void> {\n  const mapInstance = await promise;\n\n  if (mapInstance) {\n    mapInstance.panToBounds(latLngBounds, padding);\n  }\n}\n\n/**\n * Sets the viewport to contain the given bounds.\n Note: When the map is set to display: none, the fitBounds function reads the map's size as 0x0, and therefore does not do anything. To change the viewport while the map is hidden, set the map to visibility: hidden, thereby ensuring the map div has an actual size. For vector maps, this method sets the map's tilt and heading to their default zero values.\n * @method fitBounds\n * @param {(LatLngBounds|LatLngBoundsLiteral)} bounds - Bounds to show. (types: `LatLngBounds|LatLngBoundsLiteral`)\n * @param {(number|Padding)} [padding] - optional Padding in pixels. The bounds will be fit in the part of the map that remains after padding is removed. A number value will yield the same padding on all 4 sides. Supply 0 here to make a fitBounds idempotent on the result of getBounds. (types: `number|Padding`)\n * @returns {void}\n * @public\n */\nasync function fitBounds(\n  bounds: google.maps.LatLngBounds | google.maps.LatLngBoundsLiteral,\n  padding: number | google.maps.Padding,\n): Promise<void> {\n  const mapInstance = await promise;\n\n  if (mapInstance) {\n    mapInstance.fitBounds(bounds, padding);\n  }\n}\n\n/*******************************************************************************\n * WATCHERS\n ******************************************************************************/\nwatch(\n  () => props.zoom,\n  async (newVal, oldValue) => {\n    const mapInstance = await promise;\n\n    if (mapInstance && newVal && newVal !== oldValue) {\n      mapInstance.setZoom(newVal);\n    }\n  },\n);\n\n/*******************************************************************************\n * HOOKS\n ******************************************************************************/\nonMounted(() => {\n  useGoogleMapsApiPromiseLazy()\n    .then(async () => {\n      if (!gmvMap.value) {\n        throw new Error(`we can find the template ref: 'gmvMap'`);\n      }\n\n      const mapLayerOptions: Partial<IMapLayerVueComponentProps> = {\n        ...getPropsValuesWithoutOptionsProp(props),\n        ...props.options,\n      };\n\n      const recycleKey = getRecycleKey();\n      let mapInstance: google.maps.Map | undefined;\n\n      if (window[recycleKey]) {\n        gmvMap.value.appendChild(window[recycleKey].div);\n        mapInstance = window[recycleKey].map as google.maps.Map;\n        mapInstance.setOptions(mapLayerOptions);\n      } else {\n        const { Map } = (await google.maps.importLibrary(\n          'maps',\n        )) as google.maps.MapsLibrary;\n        mapInstance = new Map(gmvMap.value, mapLayerOptions);\n        window[recycleKey] = { map: mapInstance };\n      }\n\n      onMountedResizeBusHook(props, resizePreserveCenter);\n\n      const mapLayerPropsConfig = getComponentPropsConfig('GmvMap');\n      const mapLayerEventsConfig = getComponentEventsConfig('GmvMap', 'auto');\n\n      // binding properties (two and one way)\n      bindPropsWithGoogleMapsSettersAndGettersOnSetup(\n        mapLayerPropsConfig,\n        mapInstance,\n        emits as any,\n        props,\n      );\n\n      // Auto bind all events by default\n      bindGoogleMapsEventsToVueEventsOnSetup(\n        mapLayerEventsConfig,\n        mapInstance,\n        emits as any,\n        excludedEvents,\n      );\n\n      // manually trigger center and zoom\n      twoWayBindingWrapper(\n        (\n          increment: () => void,\n          decrement: () => void,\n          shouldUpdate: () => boolean,\n        ) => {\n          mapInstance?.addListener('center_changed', () => {\n            if (shouldUpdate()) {\n              /**\n               * This event is fired when the map center property changes. It sends the position displayed at the center of the map. If the center or bounds have not been set then the result is undefined. (types: `LatLng|undefined`)\n               *\n               * @event center_changed\n               * @type {(LatLng|undefined)}\n               */\n              emits('center_changed', mapInstance?.getCenter());\n            }\n\n            decrement();\n          });\n\n          const updateCenter = () => {\n            increment();\n\n            mapInstance?.setCenter(finalLatLng.value);\n          };\n\n          watchPrimitivePropertiesOnSetup(\n            ['finalLat', 'finalLng'],\n            updateCenter,\n            { finalLat, finalLng },\n          );\n        },\n      );\n\n      mapInstance?.addListener('zoom_changed', () => {\n        /**\n         * This event is fired when the map zoom property changes. It sends the zoom of the map. If the zoom has not been set then the result is undefined. (types: `number|undefined`)\n         *\n         * @event zoom_changed\n         * @type {(number|undefined)}\n         */\n        emits('zoom_changed', mapInstance?.getZoom());\n      });\n      mapInstance?.addListener('bounds_changed', () => {\n        /**\n         * This event is fired when the viewport bounds have changed. It sends The lat/lng bounds of the current viewport.\n         *\n         * @event bounds_changed\n         * @type {LatLngBounds}\n         */\n        emits('bounds_changed', mapInstance?.getBounds());\n      });\n\n      if (!mapPromiseDeferred.resolve) {\n        throw new Error('mapPromiseDeferred.resolve is undefined');\n      }\n\n      mapPromiseDeferred.resolve(mapInstance);\n    })\n    .catch((error) => {\n      throw error;\n    });\n});\n\nonBeforeUnmount(async () => {\n  const mapInstance = await promise;\n\n  if (mapInstance) {\n    const recycleKey = getRecycleKey();\n\n    if (window[recycleKey]) {\n      window[recycleKey].div = mapInstance.getDiv();\n    }\n  }\n});\n\nonUnmounted(() => {\n  onUnmountedResizeBusHook();\n  useDestroyPromisesOnUnmounted(defineMapKey() || $mapPromise);\n});\n\n/*******************************************************************************\n * RENDERS\n ******************************************************************************/\n\n/*******************************************************************************\n * EXPOSE\n ******************************************************************************/\ndefineExpose({\n  mapPromise: promise,\n  panBy,\n  panTo,\n  panToBounds,\n  fitBounds,\n  currentResizeBus,\n  _resizeCallback,\n  _delayedResizeCallback,\n  resize,\n  resizePreserveCenter,\n  getRecycleKey,\n});\n<\/script>\n\n<style lang=\"stylus\" scoped>\n.gmv-map-container {\n  position: relative;\n\n  .gmv-map {\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    position: absolute;\n  }\n\n  .gmv-map-hidden {\n    display: none;\n  }\n}\n</style>\n"})})]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},7252:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>a});var o=s(758);const t={},i=o.createContext(t);function r(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);