"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6026],{6425:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>o,toc:()=>p});const o=JSON.parse('{"id":"vue-2-version/guide/place-input","title":"place-input","description":"Description","source":"@site/docs/vue-2-version/guide/place-input.md","sourceDirName":"vue-2-version/guide","slug":"/vue-2-version/guide/place-input","permalink":"/gmap-vue/docs/vue-2-version/guide/place-input","draft":false,"unlisted":false,"editUrl":"https://github.com/diegoazh/gmap-vue/docs/vue-2-version/guide/place-input.md","tags":[],"version":"current","frontMatter":{},"sidebar":"vue2Version","previous":{"title":"marker","permalink":"/gmap-vue/docs/vue-2-version/guide/marker"},"next":{"title":"polygon","permalink":"/gmap-vue/docs/vue-2-version/guide/polygon"}}');var a=t(6070),l=t(7252);const s={},i=void 0,c={},p=[{value:"Description",id:"description",level:2},{value:"Variables",id:"variables",level:2},{value:"Source code",id:"source-code",level:2},{value:"How to use it",id:"how-to-use-it",level:2},{value:"HTML examples",id:"html-examples",level:2},{value:"Test the component",id:"test-the-component",level:2}];function r(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,a.jsx)(n.admonition,{type:"danger",children:(0,a.jsxs)(n.p,{children:["DEPRECATED, use ",(0,a.jsx)(n.a,{href:"/examples/autocomplete.html",children:"autocomplete"})," component instead."]})}),"\n",(0,a.jsxs)(n.p,{children:["This component helps you to create a place input it use the auto-complete API but was the first implementation of that API.\nWe encourage to use ",(0,a.jsx)(n.a,{href:"/examples/autocomplete.html",children:"autocomplete"})," component instead of this component, because it will be removed in the next major release."]}),"\n",(0,a.jsxs)(n.p,{children:["For more information read the Google Maps documentation for ",(0,a.jsx)(n.a,{href:"https://developers.google.com/maps/documentation/javascript/places-autocomplete",children:"autocomplete"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["It is exported with the name ",(0,a.jsx)(n.code,{children:"GmapPlaceInput"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"variables",children:"Variables"}),"\n",(0,a.jsxs)(n.p,{children:["This component save the original autocomplete object provided by Google Maps in a property called ",(0,a.jsx)(n.code,{children:"autoCompleter"}),", as the example below."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"this.autoCompleter = new google.maps.places.Autocomplete(...);\n"})}),"\n",(0,a.jsx)(n.h2,{id:"source-code",children:"Source code"}),"\n",(0,a.jsxs)(n.admonition,{type:"note",children:[(0,a.jsxs)(n.mdxAdmonitionTitle,{children:["Click to se the source code of ",(0,a.jsx)("code",{children:"autocomplete.vue"})," component"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-vue",children:"<template>\n  <label>\n    <span v-text=\"label\"></span>\n    <input\n      type=\"text\"\n      :placeholder=\"placeholder\"\n      :class=\"className\"\n      ref=\"input\"\n    />\n  </label>\n</template>\n\n<script>\nimport MapElementMixin from '../mixins/map-element';\nimport {\n  bindProps,\n  downArrowSimulator,\n  getPropsValues,\n} from '../utils/helpers';\n\nexport default {\n  mixins: [MapElementMixin],\n  props: {\n    bounds: {\n      type: Object,\n    },\n    defaultPlace: {\n      type: String,\n      default: '',\n    },\n    componentRestrictions: {\n      type: Object,\n      default: null,\n    },\n    types: {\n      type: Array,\n      default: undefined\n    },\n    placeholder: {\n      required: false,\n      type: String,\n    },\n    className: {\n      required: false,\n      type: String,\n    },\n    label: {\n      required: false,\n      type: String,\n      default: null,\n    },\n    selectFirstOnEnter: {\n      require: false,\n      type: Boolean,\n      default: false,\n    },\n  },\n  created() {\n    window.console.warn(\n      'The PlaceInput class is deprecated! Please consider using the Autocomplete input instead, it will be removed in the next major release of this plugin.'\n    );\n  },\n  mounted() {\n    const { input } = this.$refs;\n\n    // Allow default place to be set\n    input.value = this.defaultPlace;\n\n    this.$watch('defaultPlace', () => {\n      input.value = this.defaultPlace;\n    });\n\n    this.$gmapApiPromiseLazy().then(() => {\n      const options = getPropsValues(this, this.props);\n\n      if (this.selectFirstOnEnter) {\n        downArrowSimulator(this.$refs.input);\n      }\n\n      if (typeof google.maps.places.Autocomplete !== 'function') {\n        throw new Error(\n          \"google.maps.places.Autocomplete is undefined. Did you add 'places' to libraries when loading Google Maps?\"\n        );\n      }\n\n      this.autoCompleter = new google.maps.places.Autocomplete(\n        this.$refs.input,\n        options\n      );\n\n      const {\n        placeholder,\n        place,\n        defaultPlace,\n        className,\n        label,\n        selectFirstOnEnter,\n        ...rest\n      } = this.props;\n\n      bindProps(this, this.autoCompleter, rest);\n\n      this.autoCompleter.addListener('place_changed', () => {\n        this.$emit('place_changed', this.autoCompleter.getPlace());\n      });\n    });\n  },\n};\n<\/script>\n"})})]}),"\n",(0,a.jsxs)(n.p,{children:["If you need to know what are ",(0,a.jsx)(n.code,{children:"mappedProps"})," please read the general concepts of this application ",(0,a.jsx)(n.a,{href:"/code/utils/mapped-props-by-map-element.html#autocompletemappedprops",children:"here"}),"."]}),"\n",(0,a.jsxs)(n.admonition,{type:"note",children:[(0,a.jsxs)(n.mdxAdmonitionTitle,{children:["Mapped Props of ",(0,a.jsx)("code",{children:"GmapAutocomplete"})," component"]}),(0,a.jsx)(n.p,{children:"This component does not has mapped props."})]}),"\n",(0,a.jsx)(n.h2,{id:"how-to-use-it",children:"How to use it"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-vue",children:'<template>\n  <gmap-place-input :default-place="place"\n    @place_changed="setPlace">\n  </gmap-place-input>\n</template>\n'})}),"\n",(0,a.jsxs)(n.p,{children:["If you need to know the ",(0,a.jsx)(n.strong,{children:"API of this component"})," please read it ",(0,a.jsx)(n.a,{href:"/code/components/place-input.html",children:"here"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"html-examples",children:"HTML examples"}),"\n",(0,a.jsx)(n.admonition,{title:"basic HTML example",type:"note",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<body>\n  <div id="root">\n    <h1>Changing Default Place updates text box</h1>\n    <button @click="setPlaceText(\'Tokyo\')">Set to Tokyo</button><br/>\n    <button @click="setPlaceText(\'Shanghai\')">Set to Shanghai</button><br/>\n    <button @click="setPlaceText(\'Seoul\')">Set to Seoul</button><br/>\n    <gmap-place-input :default-place="place"\n      @place_changed="setPlace">\n    </gmap-place-input>\n    <br/>\n    {{latLng.lat}},\n    {{latLng.lng}}\n  </div>\n\n  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.11/vue.js"><\/script>\n  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.16.4/lodash.js"><\/script>\n  <script src="https://cdn.jsdelivr.net/npm/gmap-vue@1.2.2/dist/gmap-vue.min.js"><\/script>\n\n  <script>\n    Vue.use(GmapVue, {\n      load: {\n        key: \'AIzaSyDf43lPdwlF98RCBsJOFNKOkoEjkwxb5Sc\',\n        libraries: \'places\'\n      },\n    });\n\n    document.addEventListener(\'DOMContentLoaded\', function() {\n      new Vue({\n        el: \'#root\',\n        data: {\n          place: \'Singapore\',\n          latLng: {}\n        },\n        methods: {\n          setPlaceText(place) {\n            this.place = place;\n          },\n          setPlace(place) {\n            this.latLng = {\n              lat: place.geometry.location.lat(),\n              lng: place.geometry.location.lng(),\n            };\n          }\n        }\n      });\n    });\n  <\/script>\n</body>\n'})})}),"\n",(0,a.jsx)(n.admonition,{title:"Place input with default place HTML example",type:"note",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<body>\n  <div id="root">\n    <h1>Test</h1> "Singapore" should appear in the text box on page load. No errors in console.\n    <gmap-place-input default-place="Singapore" @place_changed="updatePlace">\n    </gmap-place-input>\n    {{place && place.lat}}, {{place && place.lng}},\n  </div>\n\n  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.11/vue.js"><\/script>\n  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.16.4/lodash.js"><\/script>\n  <script src="https://cdn.jsdelivr.net/npm/gmap-vue@1.2.2/dist/gmap-vue.min.js"><\/script>\n\n  <script>\n    Vue.use(GmapVue, {\n      load: {\n        key: \'AIzaSyDf43lPdwlF98RCBsJOFNKOkoEjkwxb5Sc\',\n        libraries: \'places\'\n      },\n      // Demonstrating how we can customize the name of the components\n      installComponents: true,\n    });\n\n    document.addEventListener(\'DOMContentLoaded\', function() {\n      new Vue({\n        el: \'#root\',\n        data: {\n          place: null\n        },\n        methods: {\n          updatePlace(what) {\n            this.place = {\n              lat: what.geometry.location.lat(),\n              lng: what.geometry.location.lng()\n            };\n          }\n        }\n      });\n    });\n  <\/script>\n</body>\n'})})}),"\n",(0,a.jsx)(n.h2,{id:"test-the-component",children:"Test the component"}),"\n",(0,a.jsx)(n.admonition,{type:"danger",children:(0,a.jsxs)(n.p,{children:["DEPRECATED, use ",(0,a.jsx)(n.a,{href:"/examples/autocomplete.html",children:"autocomplete"})," component instead."]})}),"\n",(0,a.jsx)(n.admonition,{title:"Basic Place Input example",type:"note",children:(0,a.jsx)("eg-base",{children:(0,a.jsx)("eg-place-input",{})})}),"\n",(0,a.jsx)(n.admonition,{title:"Basic Place Input example",type:"note",children:(0,a.jsx)("eg-base",{children:(0,a.jsx)("eg-place-default",{})})})]})}function d(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(r,{...e})}):r(e)}},7252:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var o=t(758);const a={},l=o.createContext(a);function s(e){const n=o.useContext(l);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),o.createElement(l.Provider,{value:n},e.children)}}}]);